<%
  def generate_id(form, input_name, rate)
    "#{form.object_name.gsub(/[\[\]]/, '[' => '_', ']' => '_')}#{input_name}_#{rate.id}"
  end
%>

<ul class="shipping-methods">
  <% shipping_rates.each do |rate| %>
    <li class="shipping-methods__rate">
      <%= render(
        'spree/components/forms/inputs/radio_input',
        checked: rate.selected,
        id: generate_id(form, "selected_shipping_rate_id", rate),
        label: "#{rate.name} #{rate.display_cost}",
        name: "#{form.object_name}[selected_shipping_rate_id]",
        value: rate.id
      ) %>
    </li>
  <% end %>
</ul>
